$(function(){var t=$("#setting-box").dialog();function i(i){t.find(".theme-box .theme-"+i).addClass("active"),$("body").addClass("theme-"+i),$.cookie("theme",i)}function e(i){t.find(".font-box span").eq(i).addClass("active"),$(".chapte-box").addClass("font-"+i),$.cookie("font",i)}function o(i){t.find(".size-box .lang").text(i),$(".chapte-box").css("font-size",i+"px"),$.cookie("size",i)}function n(i){t.find(".width-box .lang").text(i),$("body").addClass("width-"+i),$.cookie("width",i)}i($.cookie("theme")||0),e($.cookie("font")||3),o($.cookie("size")||18),n($.cookie("width")||800),$(document).keydown(function(t){var i;37==t.keyCode&&(i=$(".chapter-control .pre a").attr("href")),39==t.keyCode&&(window.location.href=$(".chapter-control .next a").attr("href")),13==t.keyCode&&(window.location.href=$(".chapter-control .bookhome a").attr("href")),i&&(window.location.href=i)}),$(".tab-switch .item").click(function(){$(this).addClass("active").siblings().removeClass("active"),$(".rank-switch .bd .list").eq($(this).index()).show().siblings().hide()}),$(".chapter-sidebar .go-top").click(function(){$("html,body").animate({scrollTop:0},500)}),$(window).scroll(function(){$(".chapter-sidebar .go-top").toggle($(this).scrollTop()>100)}),$(".chapter-sidebar .do-setting").click(function(){t.toggle()}),t.find(".theme-box span").click(function(){var t=$(this).parent().find(".active").removeClass("active").attr("class"),e=$(this).index();$("body").removeClass(t),i(e)}),t.find(".font-box span").click(function(){var t=$(this).parent().find(".active").removeClass("active").index(),i=$(this).index();$(".chapte-box").removeClass("font-"+t),e(i)}),t.find(".size-box .fa").click(function(){var t=$(this),i=t.parent().find(".lang"),e=parseInt(i.text())||18,n=t.hasClass("fa-minus");e<=12&&n||e>=48&&!n||(n?e-=2:e+=2,o(e))}),t.find(".width-box .fa").click(function(){var t=[640,800,900,1280],i=$(this),e=i.parent().find(".lang"),o=parseInt(e.text())||800,a=i.hasClass("fa-minus"),s=t.indexOf(o);if(!(s<=0&&a||s>=t.length-1&&!a)){n(a?t[s-1]:t[s+1])}})});