$(function(){function t(t){n.find(".theme-box .theme-"+t).addClass("active"),$("body").addClass("theme-"+t),$.cookie("theme",t)}function i(t){n.find(".font-box span").eq(t).addClass("active"),$(".chapte-box").addClass("font-"+t),$.cookie("font",t)}function e(t){n.find(".size-box .lang").text(t),$(".chapte-box").css("font-size",t+"px"),$.cookie("size",t)}function o(t){n.find(".width-box .lang").text(t),$("body").addClass("width-"+t),$.cookie("width",t)}var n=$("#setting-box").dialog();t($.cookie("theme")||0),i($.cookie("font")||3),e($.cookie("size")||18),o($.cookie("width")||800),$(document).keydown(function(t){var i;37==t.keyCode&&(i=$(".chapter-control .pre a").attr("href")),39==t.keyCode&&(window.location.href=$(".chapter-control .next a").attr("href")),13==t.keyCode&&(window.location.href=$(".chapter-control .bookhome a").attr("href")),i&&(window.location.href=i)}),$(".tab-switch .item").click(function(){$(this).addClass("active").siblings().removeClass("active"),$(".rank-switch .bd .list").eq($(this).index()).show().siblings().hide()}),$(".chapter-sidebar .go-top").click(function(){$("html,body").animate({scrollTop:0},500)}),$(window).scroll(function(){$(".chapter-sidebar .go-top").toggle($(this).scrollTop()>100)}),$(".chapter-sidebar .do-setting").click(function(){n.toggle()}),n.find(".theme-box span").click(function(){var i=$(this).parent().find(".active").removeClass("active").attr("class"),e=$(this).index();$("body").removeClass(i),t(e)}),n.find(".font-box span").click(function(){var t=$(this).parent().find(".active").removeClass("active").index(),e=$(this).index();$(".chapte-box").removeClass("font-"+t),i(e)}),n.find(".size-box .fa").click(function(){var t=$(this),i=t.parent().find(".lang"),o=parseInt(i.text())||18,n=t.hasClass("fa-minus");o<=12&&n||o>=48&&!n||(n?o-=2:o+=2,e(o))}),n.find(".width-box .fa").click(function(){var t=[640,800,900,1280],i=$(this),e=i.parent().find(".lang"),n=parseInt(e.text())||800,a=i.hasClass("fa-minus"),s=t.indexOf(n);if(!(s<=0&&a||s>=t.length-1&&!a)){o(a?t[s-1]:t[s+1])}})});