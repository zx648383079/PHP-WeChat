var OTHER_CODE=[8220,8221,8216,8217,65281,12290,65292,12304,12305,12289,65311,65288,65289,12288,12298,12299,65306];function getStrLength(t){if(!t)return 0;for(var n,e=0,i=0;n=t.charCodeAt(e);)e++,n<48||57<n&&n<65||90<n&&n<97||122<n&&n<128||128<n&&0<=OTHER_CODE.indexOf(n)||i++;return i}function bindChapter(){var n=$(".length-box"),e=$("#content-box"),t=function(){var t=getStrLength(e.val());n.find("span").text(t),n.find("input").val(t)};e.on("input propertychange",function(){t()}).on("keydown",function(t){if(9===t.keyCode){t.preventDefault();var n=this.selectionStart+4;this.value=this.value.substr(0,this.selectionStart)+"    "+this.value.substr(this.selectionStart),this.selectionStart=n,this.selectionEnd=n,this.focus()}}),t()}