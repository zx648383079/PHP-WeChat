var Search=function(){function n(n){this.box=n,this.engine=0,this.SEARCH_ENGINE=[{name:"百度",icon:"icon-baidu",url:"https://www.baidu.com/s?wd={word}",suggest:""},{name:"Bing",icon:"icon-bing",url:"https://cn.bing.com/search?q={word}"},{name:"Google",icon:"icon-google",url:"https://www.google.com/search?q={word}"},{name:"Github",icon:"icon-github",url:"https://github.com/search?utf8=✓&q={word}"}],this.refreshEngine(),this.refreshDefault(),this.bindEvent()}return n.prototype.bindEvent=function(){var i=this,n=this.box.find(".search-engine");this.box.on("mouseover",".search-icon",function(){n.show()}).on("keyup",".search-input input",function(n){var t=$(this).val();"Enter"!==n.key?i.refreshTip(t):i.tapSearch(t)}).on("click",".search-engine .search-engine-body li",function(){i.changeEngine($(this).index()),n.hide()}).on("click",".search-tips li",function(){i.tapSearch($(this).text().replace(/^\d+/,""))})},n.prototype.changeEngine=function(n){this.engine=n,this.refreshDefault()},n.prototype.tapSearch=function(n){var t=this.SEARCH_ENGINE[this.engine].url.replace("{word}",encodeURI(n.trim()));window.open(t,"_blank")},n.prototype.refreshDefault=function(){var n=this.SEARCH_ENGINE[this.engine];this.box.find(".search-icon").attr("class","search-icon "+n.icon)},n.prototype.refreshTip=function(n){var t=this,i=this.box.find(".search-tips"),e=i.find("ul");$.ajax({url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="+encodeURI(n),dataType:"jsonp",jsonp:"cb"}).done(function(n){e.html(t.getTipList(n.s||[])),i.show()}).fail(function(n){e.html(""),i.hide()})},n.prototype.refreshEngine=function(){this.box.find(".search-engine-body").html(this.getEngineList())},n.prototype.getEngineList=function(){var t="";return this.SEARCH_ENGINE.forEach(function(n){t+='<li><span class="'+n.icon+'"></span>'+n.name+"</li>"}),t},n.prototype.getTipList=function(n){var i="";return n.forEach(function(n,t){i+="<li><span>"+(t+=1)+"</span> "+n+"</li>"}),i},n}(),Navigation=function(){function n(n){this.box=n,this.groups=[],this.bindEvent()}return n.prototype.bindEvent=function(){this.box.on("click",".custom-btn",function(){$(this).closest(".self-box").toggleClass("edit-mode")}).on("click",".panel-close",function(){$(this).closest(".self-box").removeClass("edit-mode")}).on("hover",".site-item",function(){$(this).closest(".self-box")})},n.prototype.refresh=function(){this.box.find(".panel-body").html(this.getHtml())},n.prototype.getHtml=function(){var i="";return this.groups.forEach(function(n){var t="";n.items.forEach(function(n){t+='<a href="'+n.url+'" target="_blank" class="site-item">\n                <i class="fa fa-times"></i>\n                '+n.name+'\n                <i class="fa fa-edit"></i>\n            </a>'}),i+='<div class="group-item">\n            <div class="group-name">'+n.name+"</div>\n            <div>\n                "+t+"\n            </div>\n        </div>"}),i},n}();function bindNavigation(){new Search($(".search-box")),new Navigation($(".self-box"))}$(function(){$(document).on("click",".tab-box .tab-header .tab-item",function(){var n=$(this);n.addClass("active").siblings().removeClass("active"),n.closest(".tab-box").find(".tab-body .tab-item").eq(n.index()).addClass("active").siblings().removeClass("active")}).on("click",".nav-bar .nav-toggle",function(){$(this).closest(".nav-bar").toggleClass("open")})});