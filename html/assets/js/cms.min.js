var Search=function(){function i(i){this.box=i,this.engine=0,this.showTip=!0,this.SEARCH_ENGINE=[{name:"百度",icon:"icon-baidu",url:"https://www.baidu.com/s?wd={word}",suggest:""},{name:"Bing",icon:"icon-bing",url:"https://cn.bing.com/search?q={word}"},{name:"Google",icon:"icon-google",url:"https://www.google.com/search?q={word}"},{name:"Github",icon:"icon-github",url:"https://github.com/search?utf8=✓&q={word}"}],this.refreshEngine(),this.refreshDefault(),this.bindEvent()}return i.prototype.bindEvent=function(){var t=this,n=this.box.find(".search-engine");n.click(function(i){i.stopPropagation()}).on("click",".toggle-box",function(i){$(this).toggleClass("checked"),t.showTip=$(this).hasClass("checked")}),this.box.on("click",".search-icon",function(i){i.stopPropagation(),n.show()}).on("keyup",".search-input input",function(i){var n=$(this).val();"Enter"!==i.key?t.showTip&&t.refreshTip(n):t.tapSearch(n)}).on("click",".search-engine .search-engine-body li",function(){t.changeEngine($(this).index()),n.hide()}).on("click",".search-tips li",function(){t.tapSearch($(this).text().replace(/^\d+/,""))}),$(document).click(function(){t.box.find(".search-tips").hide(),n.hide()})},i.prototype.changeEngine=function(i){this.engine=i,this.refreshDefault()},i.prototype.tapSearch=function(i){var n=this.SEARCH_ENGINE[this.engine].url.replace("{word}",encodeURI(i.trim()));window.open(n,"_blank")},i.prototype.refreshDefault=function(){var i=this.SEARCH_ENGINE[this.engine];this.box.find(".search-icon").attr("class","search-icon "+i.icon)},i.prototype.refreshTip=function(i){var n=this,t=this.box.find(".search-tips"),e=t.find("ul");$.ajax({url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="+encodeURI(i),dataType:"jsonp",jsonp:"cb"}).done(function(i){e.html(n.getTipList(i.s||[])),t.show()}).fail(function(i){e.html(""),t.hide()})},i.prototype.refreshEngine=function(){this.box.find(".search-engine-body").html(this.getEngineList())},i.prototype.getEngineList=function(){var n="";return this.SEARCH_ENGINE.forEach(function(i){n+='<li><span class="'+i.icon+'"></span>'+i.name+"</li>"}),n},i.prototype.getTipList=function(i){var t="";return i.forEach(function(i,n){t+="<li><span>"+(n+=1)+"</span> "+i+"</li>"}),t},i}(),Navigation=function(){function i(i,n){void 0===n&&(n=[]),this.box=i,this.groups=n,this.refresh(),this.bindEvent()}return i.prototype.bindEvent=function(){this.box.on("click",".custom-btn",function(){$(this).closest(".self-box").toggleClass("edit-mode")}).on("click",".panel-close",function(){$(this).closest(".self-box").removeClass("edit-mode")}).on("hover",".site-item",function(){$(this).closest(".self-box")})},i.prototype.refresh=function(){this.box.find(".panel-body").html(this.getHtml())},i.prototype.getHtml=function(){var t="";return this.groups&&this.groups.length<1||this.groups.forEach(function(i){var n="";i.items.forEach(function(i){n+='<a href="'+i.url+'" target="_blank" class="site-item">\n                <i class="fa fa-times"></i>\n                '+i.name+'\n                <i class="fa fa-edit"></i>\n            </a>'}),t+='<div class="group-item">\n            <div class="group-name">'+i.name+"</div>\n            <div>\n                "+n+"\n            </div>\n        </div>"}),t},i}();function bindNavigation(){new Search($(".search-box")),new Navigation($(".self-box"))}$(function(){$(document).on("click",".tab-box .tab-header .tab-item",function(){var i=$(this);i.addClass("active").siblings().removeClass("active"),i.closest(".tab-box").find(".tab-body .tab-item").eq(i.index()).addClass("active").siblings().removeClass("active")}).on("click",".nav-bar .nav-toggle",function(){$(this).closest(".nav-bar").toggleClass("open")})});