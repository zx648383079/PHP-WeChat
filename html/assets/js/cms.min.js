var Search=function(){function i(i){this.box=i,this.engine=0,this.showTip=!0,this.SEARCH_ENGINE=[{name:"百度",icon:"icon-baidu",url:"https://www.baidu.com/s?wd={word}",suggest:""},{name:"Bing",icon:"icon-bing",url:"https://cn.bing.com/search?q={word}"},{name:"Google",icon:"icon-google",url:"https://www.google.com/search?q={word}"},{name:"Github",icon:"icon-github",url:"https://github.com/search?utf8=✓&q={word}"}],this.refreshEngine(),this.refreshDefault(),this.bindEvent()}return i.prototype.bindEvent=function(){var n=this,t=this.box.find(".search-engine");t.click(function(i){i.stopPropagation()}).on("click",".toggle-box",function(i){$(this).toggleClass("checked"),n.showTip=$(this).hasClass("checked")}),this.box.on("click",".search-icon",function(i){i.stopPropagation(),t.show()}).on("keyup",".search-input input",function(i){var t=$(this).val();"Enter"!==i.key?n.showTip&&n.refreshTip(t):n.tapSearch(t)}).on("click",".search-engine .search-engine-body li",function(){n.changeEngine($(this).index()),t.hide()}).on("click",".search-tips li",function(){n.tapSearch($(this).text().replace(/^\d+/,""))}),$(document).click(function(){n.box.find(".search-tips").hide(),t.hide()})},i.prototype.changeEngine=function(i){this.engine=i,this.refreshDefault()},i.prototype.tapSearch=function(i){var t=this.SEARCH_ENGINE[this.engine].url.replace("{word}",encodeURI(i.trim()));window.open(t,"_blank")},i.prototype.refreshDefault=function(){var i=this.SEARCH_ENGINE[this.engine];this.box.find(".search-icon").attr("class","search-icon "+i.icon)},i.prototype.refreshTip=function(i){var t=this,n=this.box.find(".search-tips"),e=n.find("ul");$.ajax({url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="+encodeURI(i),dataType:"jsonp",jsonp:"cb"}).done(function(i){e.html(t.getTipList(i.s||[])),n.show()}).fail(function(i){e.html(""),n.hide()})},i.prototype.refreshEngine=function(){this.box.find(".search-engine-body").html(this.getEngineList())},i.prototype.getEngineList=function(){var t="";return this.SEARCH_ENGINE.forEach(function(i){t+='<li><span class="'+i.icon+'"></span>'+i.name+"</li>"}),t},i.prototype.getTipList=function(i){var n="";return i.forEach(function(i,t){n+="<li><span>"+(t+=1)+"</span> "+i+"</li>"}),n},i}(),Navigation=function(){function i(i,t){void 0===t&&(t=[]),this.box=i,this.groups=t,this.refresh(),this.bindEvent(),this.dialog=$("#add-box").dialog()}return i.prototype.bindEvent=function(){var i=this;this.box.on("click",".custom-btn",function(){$(this).closest(".self-box").toggleClass("edit-mode")}).on("click",".panel-close",function(){$(this).closest(".self-box").removeClass("edit-mode")}).on("hover",".site-item",function(){$(this).closest(".self-box")}).on("click",".add-btn",function(){i.dialog.show()})},i.prototype.refresh=function(){this.box.find(".panel-body").html(this.getHtml())},i.prototype.getHtml=function(){var n="";return this.groups&&this.groups.length<1||this.groups.forEach(function(i){var t="";i.items.forEach(function(i){t+='<a href="'+i.url+'" target="_blank" class="site-item">\n                <i class="fa fa-times"></i>\n                '+i.name+'\n                <i class="fa fa-edit"></i>\n            </a>'}),n+='<div class="group-item">\n            <div class="group-name">'+i.name+"</div>\n            <div>\n                "+t+"\n            </div>\n        </div>"}),n},i}();function bindNavigation(){new Search($(".search-box")),new Navigation($(".self-box"))}function bindTheme(){$(".theme-list .item").mouseenter(function(){var i=$(this).find(".thumb img"),t=i.closest(".thumb").innerHeight(),n=i.height();n<=t||i.css("top",t-n+"px")}).mouseleave(function(){$(this).find(".thumb img").css("top",0)})}$(function(){$(document).on("click",".tab-box .tab-header .tab-item",function(){var i=$(this);i.addClass("active").siblings().removeClass("active"),i.closest(".tab-box").find(".tab-body .tab-item").eq(i.index()).addClass("active").siblings().removeClass("active")}).on("click",".nav-bar .nav-toggle",function(){$(this).closest(".nav-bar").toggleClass("open")})});