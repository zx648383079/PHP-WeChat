var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,u=e.length;i<u;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};!function(e){var o,t;(t=o=o||{})[t.COMMENT=0]="COMMENT",t[t.CHASET=1]="CHASET",t[t.IMPORT=2]="IMPORT",t[t.INCLUDE=3]="INCLUDE",t[t.TEXT=4]="TEXT",t[t.STYLE_GROUP=5]="STYLE_GROUP",t[t.STYLE=6]="STYLE";var s=function(t){return" "===t||"\r"===t||"\n"===t||"\t"===t};function p(t,e,n){void 0===e&&(e=1);for(var r,i=0<(n=void 0===n?"    ":n).length?(r=n,new Array(e-1+1).join(r)):n,u=[],a=0,s=t=1<e?t.sort(function(t,e){return t.type===e.type?0:t.type===o.STYLE_GROUP?1:e.type===o.STYLE_GROUP?-1:0}):t;a<s.length;a++){var f,h=s[a];h.type!==o.CHASET?h.type!==o.TEXT?h.type!==o.COMMENT?h.type!==o.IMPORT?h.type!==o.INCLUDE?(h.type===o.STYLE&&u.push(i+h.name+": "+h.value+";"),h.type===o.STYLE_GROUP&&(u.push(i+("object"==typeof h.name?h.name.join(",\n"+i):h.name)+" {"),u.push(p(h.children,e+1,n)),u.push(i+"}"))):u.push(i+"@include "+h.text+";"):u.push(i+"@import "+h.text+";"):(f=h.text+"").indexOf("\n")<0?u.push(i+"// "+h.text):u.push(i+"/* "+f.split("\n").map(function(t){return t.trim()}).join("\n"+i)+" */"):u.push(i+h.text+";"):u.push(i+"@charset "+h.text+";")}return u.join("\n")}function n(t){function e(n){if(n.length<2)return p.splitRuleName(n[0]).map(function(t){return[t]});function r(t,e){return a.length<=t&&a.push(p.splitRuleName(n[t])),(e=e<0?a[t].length+e:e)>=a[t].length?"":a[t][e]}function t(t,e){return r(t,-1-e)}for(var i=[],u=[],a=[],e=0,s=!1;;){var f=r(0,e);if(""===f)break;for(var s=!1,h=1;h<n.length;h++)if(f!==r(h,e)){s=!0;break}if(s)break;u.push([f]),e++}for(e=0;;){var o=t(0,e);if(""===o||a[0].length-e-1<=u.length)break;s=!1;for(h=1;h<n.length;h++){if(o!==t(h,e)){s=!0;break}if(a[h].length-e-1<=u.length){s=!0;break}}if(s)break;i.push([o]),e++}return i.length<1&&u.length<1?[n]:(i.push(n.map(function(t,e){var n,r=a.length>e?a[e]:p.splitRuleName(t),e=u.length,t=r.length-i.length;return t=r.splice(e,t-e),void 0===(n=0<e)&&(n=!1),t.map(function(t,e){return 0===e?0!==t.indexOf("&")||n?t:t.substring(1):0===t.indexOf("&")?t.substring(1):" "+t}).join("")})),__spreadArray(__spreadArray([],u,!0),i.reverse(),!0))}for(var n,r,i,p=this,u=[],h=function(t,e,n){if(t.length<1)return i=n,void e.forEach(function(t){if(t.type===o.STYLE){for(var e=0,n=i;e<n.length;e++){var r=n[e];if(r.type===o.STYLE&&r.name===t.name)return void(r.value=t.value)}i.push(t)}else i.push(t)});for(var i,r=t.shift(),u=0,a=n;u<a.length;u++){var s=a[u];if(s.type===o.STYLE_GROUP&&function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)return!1}return!0}(r,s.name))return s.children||(s.children=[]),void h(t,e,s.children)}var f={type:o.STYLE_GROUP,name:r,children:[]};n.push(f),h(t,e,f.children)},a=0,s=t;a<s.length;a++){var f=s[a];r=u,i=void 0,(n=f).type===o.STYLE_GROUP?(i=e("object"==typeof n.name?n.name:[n.name]),h(i,n.children,r)):r.push(n)}return u}e.cssToJson=function(r){function i(t){if(0<=t.indexOf("@charset"))return{type:o.CHASET,text:t.replace(/@charset\s*/,"")};if(0<=t.indexOf("@import"))return{type:o.IMPORT,text:t.replace(/@import\s*/,"")};if(0<=t.indexOf("@include"))return{type:o.INCLUDE,text:t.replace(/@include\s*/,"")};var e=t.split(":",2);return 2===e.length?{type:o.STYLE,name:e[0].trim(),value:e[1].trim()}:!(t.trim().length<1)&&{type:o.TEXT,text:t}}function n(){for(var t,e;u<r.length;)if(t=r.charAt(++u),!s(t))return"/"===t&&(e=void 0,"//"===(e=r.substr(u,2))||("//"===e||"/*"===e)&&0<r.indexOf("*/",u+2))?function(){var t=r.substr(u,2),e=u+2,n=r.indexOf("//"===t?"\n":"*/",e);"//"!==t&&n<0&&(n=r.length);e=r.substring(e,n);return u=n+("//"===t?0:1),{type:o.COMMENT,text:e.trim()}}():"}"===t||function(){var t=r.indexOf(";",u),e=r.indexOf("{",u);if(0<t&&(e<0||t<e)){var n=r.substring(u,t);return u=t,i(n)}t=r.indexOf("}",u);if(0<t&&(e<0||t<e)){n=r.substring(u,t);return u=t-1,i(n)}if(e<0){n=r.substring(u);return u=r.length,i(n)}n=r.substring(u,e);return u=e,{type:o.STYLE_GROUP,name:n.split(",").map(function(t){return t.trim()}).filter(function(t){return 0<t.length}),children:a()}}();return!1}var u=-1,a=function(){for(var t=[];u<r.length;){var e=n();if(!0===e)break;e&&t.push(e)}return t};return a()},e.cssToScss=function(t){return p(n(e.cssToJson(t)))}}(this);