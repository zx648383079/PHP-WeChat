var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(t,n,e){if(e||2===arguments.length)for(var r,i=0,u=n.length;i<u;i++)!r&&i in n||((r=r||Array.prototype.slice.call(n,0,i))[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))};!function(n){(t=c=c||{})[t.COMMENT=0]="COMMENT",t[t.CHASET=1]="CHASET",t[t.IMPORT=2]="IMPORT",t[t.INCLUDE=3]="INCLUDE",t[t.TEXT=4]="TEXT",t[t.STYLE_GROUP=5]="STYLE_GROUP",t[t.STYLE=6]="STYLE";var c,t,o=function(t){return" "===t||"\r"===t||"\n"===t||"\t"===t};function h(t,n,e){void 0===n&&(n=1);for(var r,i=0<(e=void 0===e?"    ":e).length?(r=e,new Array(n-1+1).join(r)):e,u=[],a=0,s=t=1<n?t.sort(function(t,n){return t.type===n.type?0:t.type===c.STYLE_GROUP?1:n.type===c.STYLE_GROUP?-1:0}):t;a<s.length;a++){var f,o=s[a];o.type===c.CHASET?u.push(i+"@charset "+o.text+";"):o.type===c.TEXT?u.push(i+o.text+";"):o.type===c.COMMENT?(f=o.text+"").indexOf("\n")<0?u.push(i+"// "+o.text):u.push(i+"/* "+f.split("\n").map(function(t){return t.trim()}).join("\n"+i)+" */"):o.type===c.IMPORT?u.push(i+"@import "+o.text+";"):o.type===c.INCLUDE?u.push(i+"@include "+o.text+";"):(o.type===c.STYLE&&u.push(i+o.name+": "+o.value+";"),o.type===c.STYLE_GROUP&&(u.push(i+("object"==typeof o.name?o.name.join(",\n"+i):o.name)+" {"),u.push(h(o.children,n+1,e)),u.push(i+"}")))}return u.join("\n")}function e(t){for(var l=this,n=[],p=function(t,e){return void 0===e&&(e=!1),t.map(function(t,n){return 0===n?0!==t.indexOf("&")||e?t:t.substring(1):0===t.indexOf("&")?t.substring(1):" "+t}).join("")},f=function(t,n){if(t.length!==n.length)return!1;for(var e=0,r=t;e<r.length;e++){var i=r[e];if(n.indexOf(i)<0)return!1}return!0},o=function(i,t){t.forEach(function(t){if(t.type===c.STYLE)for(var n=0,e=i;n<e.length;n++){var r=e[n];if(r.type===c.STYLE&&r.name===t.name)return void(r.value=t.value)}i.push(t)})},h=function(t,n,e){if(t.length<1)o(e,n);else{for(var r=t.shift(),i=0,u=e;i<u.length;i++){var a=u[i];if(a.type===c.STYLE_GROUP&&f(r,a.name))return a.children||(a.children=[]),void h(t,n,a.children)}var s={type:c.STYLE_GROUP,name:r,children:[]};e.push(s),h(t,n,s.children)}},e=function(t,n){var e;t.type!==c.STYLE_GROUP?n.push(t):(e=function(e){if(e.length<2)return l.splitRuleName(e[0]).map(function(t){return[t]});for(var r=[],i=[],u=[],a=function(t,n){u.length<=t&&u.push(l.splitRuleName(e[t]));n=n<0?u[t].length+n:n;return n>=u[t].length?"":u[t][n]},t=function(t,n){return a(t,-1-n)},n=0,s=!1;;){var f=a(0,n);if(""===f)break;for(var s=!1,o=1;o<e.length;o++)if(f!==a(o,n)){s=!0;break}if(s)break;i.push([f]),n++}for(n=0;;){var h=t(0,n);if(""===h||u[0].length-n-1<=i.length)break;s=!1;for(o=1;o<e.length;o++){if(h!==t(o,n)){s=!0;break}if(u[o].length-n-1<=i.length){s=!0;break}}if(s)break;r.push([h]),n++}return r.length<1&&i.length<1?[e]:(r.push(e.map(function(t,n){var n=n<u.length?u[n]:l.splitRuleName(t),t=i.length,e=n.length-r.length;return p(n.splice(t,e-t),0<t)})),__spreadArray(__spreadArray([],i,!0),r.reverse(),!0))}("object"==typeof t.name?t.name:[t.name]),h(e,t.children,n))},r=0,i=t;r<i.length;r++)e(i[r],n);return n}n.cssToJson=function(r){function e(){for(var t;i<r.length;)if(t=r.charAt(++i),!o(t))return"/"===t&&n()?u():"}"===t||s();return!1}var i=-1,n=function(){var t=r.substr(i,2);return"//"===t||"/*"===t&&0<r.indexOf("*/",i+2)},u=function(){var t=r.substr(i,2),n=i+2,e=r.indexOf("//"===t?"\n":"*/",n),n=("//"!==t&&e<0&&(e=r.length),r.substring(n,e));return i=e+("//"===t?0:1),{type:c.COMMENT,text:n.trim()}},a=function(t){var n;return 0<=t.indexOf("@charset")?{type:c.CHASET,text:t.replace(/@charset\s*/,"")}:0<=t.indexOf("@import")?{type:c.IMPORT,text:t.replace(/@import\s*/,"")}:0<=t.indexOf("@include")?{type:c.INCLUDE,text:t.replace(/@include\s*/,"")}:2===(n=t.split(":",2)).length?{type:c.STYLE,name:n[0].trim(),value:n[1].trim()}:!(t.trim().length<1)&&{type:c.TEXT,text:t}},s=function(){var t,n=r.indexOf(";",i),e=r.indexOf("{",i);return 0<n&&(e<0||n<e)?(t=r.substring(i,n),i=n,a(t)):0<(n=r.indexOf("}",i))&&(e<0||n<e)?(t=r.substring(i,n),i=n-1,a(t)):e<0?(t=r.substring(i),i=r.length,a(t)):(n=r.substring(i,e),i=e,{type:c.STYLE_GROUP,name:n.split(",").map(function(t){return t.trim()}).filter(function(t){return 0<t.length}),children:f()})},f=function(){for(var t=[];i<r.length;){var n=e();if(!0===n)break;n&&t.push(n)}return t};return f()},n.cssToScss=function(t){return h(e(n.cssToJson(t)))}}(this);