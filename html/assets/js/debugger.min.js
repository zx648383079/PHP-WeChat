var Debugger=function(){function r(){}return r.bar=function(a,e,n){var s=r.createElement("bar"),t='<div class="bar-title">';return 0<e&&(t+='<span class="error-count">'+e+"</span>"),t+='<i class="fa fa-bar-chart"></i>'+a+'<i class="fa fa-close"></i></div><div class="bar-info"><table class="bar-box">'+r.createTable(n),s.html(t+"</table></div>"),s.on("click",".bar-title .fa-bar-chart",function(){$(this).closest(".debugger-bar").toggleClass("expanded")}).on("click",".bar-title .fa-close",function(){$(this).closest(".debugger-bar").remove()}),s},r.createTable=function(a){var t="";return $.each(a,function(a,e){var n="",s=e&&e instanceof Array;$.each(e,function(a,e){n+=s?'<tr><td colspan="2">'+e+"</td></tr>":"<tr><td>"+a+"</td><td>"+e+"</td></tr>"}),""!=n&&(t+='<tr class="header-tr"><td colspan="2">'+a+"</td></tr>"+n)}),t},r.createElement=function(a){var e=$(".debugger-"+a);return 1==e.length||(e=$('<div class="debugger-'+a+'"></div>'),$(document.body).append(e)),e},r.blueScreen=function(a,e){var n=r.createElement("blue-screen"),s='<div class="bs-header"><p>'+a.name+"</p><h1>"+a.message+"</h1></div>";return e.forEach(function(a){s+='<div class="panel"><div class="panel-header"><p class="name">'+a.name+": "+a.message+"</p><p>"+a.file+":"+a.line+'</p></div><div class="panel-body">',a.trace&&a.trace.forEach(function(a){s+='<div class="panel"><div class="panel-header"><p class="name">'+(a.class?a.class+a.type:"")+a.function+'(<span class="func-vals">'+r.formatParam(a.args)+"</span>)</p>",a.file&&(s+="<p>"+a.file+":"+a.line+"</p>"),s+='</div><div class="panel-body">'+a.source+"</div></div>"}),s+="</div></div>"}),n.html(s),n.on("click",".panel .panel-header",function(){$(this).closest(".panel").toggleClass("expanded")}),n},r.formatParam=function(a){var n="";return $.each(a,function(a,e){n+=a+': <span class="func-val">'+e+"</span>, "}),n.substr(0,n.length-2)},r}();