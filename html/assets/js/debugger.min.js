var Debugger=function(){function c(){}return c.bar=function(e,a,n){if(!$.cookie||1!=$.cookie("debugger-bar")){var r=c.createElement("bar"),s='<div class="bar-title">';return 0<a&&(s+='<span class="error-count">'+a+"</span>"),s+='<i class="fa fa-chart-bar"></i>'+e+'<i class="fa fa-close"></i></div><div class="bar-info"><table class="bar-box">'+c.createTable(n),r.html(s+"</table></div>"),r.on("click",".bar-title .fa-chart-bar",function(){$(this).closest(".debugger-bar").toggleClass("expanded")}).on("click",".bar-title .fa-close",function(){$(this).closest(".debugger-bar").remove(),$.cookie&&$.cookie("debugger-bar",1)}),r}},c.createTable=function(e){var s="";return $.each(e,function(e,a){var n="",r=a&&a instanceof Array;$.each(a,function(e,a){n+=r?'<tr><td colspan="2">'+a+"</td></tr>":"<tr><td>"+e+"</td><td>"+a+"</td></tr>"}),""!=n&&(s+='<tr class="header-tr"><td colspan="2">'+e+"</td></tr>"+n)}),s},c.createElement=function(e){var a=$(".debugger-"+e);return 1==a.length||(a=$('<div class="debugger-'+e+'"></div>'),$(document.body).append(a)),a},c.blueScreen=function(e,a){var n=c.createElement("blue-screen"),r='<div class="bs-header"><p>'+e.name+"</p><h1>"+e.message+"</h1></div>";return a.forEach(function(e){r+='<div class="panel"><div class="panel-header"><p class="name">'+e.name+": "+e.message+"</p><p>"+e.file+":"+e.line+'</p></div><div class="panel-body">',e.trace&&e.trace.forEach(function(e){r+='<div class="panel"><div class="panel-header"><p class="name">'+(e.class?e.class+e.type:"")+e.function+'(<span class="func-vals">'+c.formatParam(e.args)+"</span>)</p>",e.file&&(r+="<p>"+e.file+":"+e.line+"</p>"),r+='</div><div class="panel-body">'+e.source+"</div></div>"}),r+="</div></div>"}),n.html(r),n.on("click",".panel .panel-header",function(){$(this).closest(".panel").toggleClass("expanded")}),n},c.formatParam=function(e){var n="";return $.each(e,function(e,a){n+=e+': <span class="func-val">'+a+"</span>, "}),n.substr(0,n.length-2)},c}();