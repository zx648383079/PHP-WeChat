var Pager=function(){function t(t,i){this.element=t,this.index=0,this.option=$.extend({},new PagerDefaultOption,i),this.total=this.option.total,this.length=this.option.length,this.paginate(1);var e=this;this.element.on("click","li",function(){var t=e._data[$(this).index()];t<1||e.option.paginate&&0==e.option.paginate.call(this,t,e)||e.paginate(t)})}return t.prototype.paginate=function(t){void 0===t&&(t=this.index),t<1&&(t=1),t>this.total&&(t=this.total),this.index=t,this.refresh()},t.prototype.previous=function(){this.index<1||this.paginate(this.index-1)},t.prototype.next=function(){this.index>this.total||this.paginate(this.index+1)},t.prototype.change=function(t,i){void 0===t&&(t=1),this.index="number"==typeof t?t:parseInt(t),i&&(this.total="number"==typeof i?i:parseInt(i)),this.refresh()},t.prototype.refresh=function(){this._initPage(),this._addHtml()},t.prototype._initPage=function(){if(this._data=[],!(this.total<2)){this._data.push(1);var t=Math.floor(this.length/2),i=this.index-t,e=this.index+t;for(i<2&&(e=(i=2)+this.length),e>this.total-1&&(e=this.total-1,i=Math.max(2,e-this.length)),i>2&&this._data.push(0);i<=e;i++)this._data.push(i);e<this.total-1&&this._data.push(0),this._data.push(this.total)}},t.prototype._addHtml=function(){var t="",i=this;$.each(this._data,function(e,n){0!=n?n!=i.index?t+=i._replace(n,i.option.page):t+=i._replace(n,i.option.current):t+=i.option.label}),this.element.html(t)},t.prototype._replace=function(t,i){return i.replace(new RegExp("{page}","g"),t+"")},t}(),PagerDefaultOption=function(){return function(){this.total=0,this.length=8,this.page="<li>{page}</li>",this.current='<li class="active">{page}</li>',this.label="<li>...</li>"}}();jQuery.fn.pager=function(t){return new Pager(this,t)};