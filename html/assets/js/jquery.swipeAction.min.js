!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT"}(SwipeMode=SwipeMode||{});var SwipeMode,SwipeAction=function(){function t(t,e){this.element=t,this._currentMode=SwipeMode.NONE,this._leftWidth=0,this._rightWidth=0,this.options=$.extend({},new SwipeActionDefaultOption,e),this.refresh()._bindEvent()}return t.prototype.refresh=function(){return this._leftWidth=this.element.find(this.options.leftBox).width(),this._rightWidth=this.element.find(this.options.rightBox).width(),this.mode(SwipeMode.NONE)},t.prototype._bindEvent=function(){var i,h,o=this;this.element.on("touchstart",function(t){t=t.targetTouches[0];i={x:t.pageX,y:t.pageY}}).on("touchmove",function(t){var e=t.targetTouches[0];1<t.targetTouches.length||t.scale&&1!==t.scale||(t.preventDefault(),o.touchMove(h=e.pageX-i.x))}).on("touchcancel",function(){o.touchEnd(h)}).on("touchend",function(){o.touchEnd(h)})},t.prototype.touchEnd=function(t){var e;return t&&0!=t?(e=Math.abs(t),this._currentMode==SwipeMode.LEFT?t<0?this.mode(e>=this._leftWidth/2?SwipeMode.NONE:SwipeMode.LEFT):this:this._currentMode==SwipeMode.RIGHT?0<t?this.mode(e>=this._rightWidth/2?SwipeMode.NONE:SwipeMode.RIGHT):this:0<t?this.mode(e>=this._leftWidth/2?SwipeMode.LEFT:SwipeMode.NONE):this.mode(e>=this._rightWidth/2?SwipeMode.RIGHT:SwipeMode.NONE)):this.mode(this._currentMode)},t.prototype.touchMove=function(t){return 0==t?this:this._currentMode==SwipeMode.LEFT?(t<0&&this.left(Math.max(this._leftWidth+t,0)),this):this._currentMode==SwipeMode.RIGHT?(0<t&&this.left(Math.min(t-this._rightWidth,0)),this):t<0?this.left(Math.max(t,-this._rightWidth)):this.left(Math.min(t,this._leftWidth))},t.prototype.mode=function(t){switch(this._currentMode=t){case SwipeMode.NONE:this.left(0);break;case SwipeMode.LEFT:this.left(this._leftWidth);break;case SwipeMode.RIGHT:this.left(-this._rightWidth)}return this},t.prototype.left=function(t){return this.element.css("left",t+"px"),this},t}(),SwipeActionDefaultOption=function(){this.leftBox=".actions-left",this.rightBox=".actions-right"};!function(e){e.fn.swipeAction=function(t){this.each(function(){new SwipeAction(e(this),t)})}}(jQuery);