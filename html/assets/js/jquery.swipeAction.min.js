var SwipeMode;!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT"}(SwipeMode||(SwipeMode={}));var SwipeAction=function(){function t(t,e){this.element=t,this._currentMode=SwipeMode.NONE,this._leftWidth=0,this._rightWidth=0,this.options=$.extend({},new SwipeActionDefaultOption,e),this.refresh()._bindEvent()}return t.prototype.refresh=function(){return this._leftWidth=this.element.find(this.options.leftBox).width(),this._rightWidth=this.element.find(this.options.rightBox).width(),this.mode(SwipeMode.NONE)},t.prototype._bindEvent=function(){var t,e,i=this;this.element.on("touchstart",function(e){var i=e.targetTouches[0];t={x:i.pageX,y:i.pageY}}).on("touchmove",function(h){var o=h.targetTouches[0];h.targetTouches.length>1||h.scale&&1!==h.scale||(h.preventDefault(),i.touchMove(e=o.pageX-t.x))}).on("touchcancel",function(){i.touchEnd(e)}).on("touchend",function(){i.touchEnd(e)})},t.prototype.touchEnd=function(t){if(!t||0==t)return this.mode(this._currentMode);var e=Math.abs(t);return this._currentMode==SwipeMode.LEFT?t<0?this.mode(e>=this._leftWidth/2?SwipeMode.NONE:SwipeMode.LEFT):this:this._currentMode==SwipeMode.RIGHT?t>0?this.mode(e>=this._rightWidth/2?SwipeMode.NONE:SwipeMode.RIGHT):this:t>0?this.mode(e>=this._leftWidth/2?SwipeMode.LEFT:SwipeMode.NONE):this.mode(e>=this._rightWidth/2?SwipeMode.RIGHT:SwipeMode.NONE)},t.prototype.touchMove=function(t){return 0==t?this:this._currentMode==SwipeMode.LEFT?(t<0&&this.left(Math.max(this._leftWidth+t,0)),this):this._currentMode==SwipeMode.RIGHT?(t>0&&this.left(Math.min(t-this._rightWidth,0)),this):t<0?this.left(Math.max(t,-this._rightWidth)):this.left(Math.min(t,this._leftWidth))},t.prototype.mode=function(t){switch(this._currentMode=t,t){case SwipeMode.NONE:this.left(0);break;case SwipeMode.LEFT:this.left(this._leftWidth);break;case SwipeMode.RIGHT:this.left(-this._rightWidth)}return this},t.prototype.left=function(t){return this.element.css("left",t+"px"),this},t}(),SwipeActionDefaultOption=function(){return function(){this.leftBox=".actions-left",this.rightBox=".actions-right"}}();!function(t){t.fn.swipeAction=function(e){this.each(function(){new SwipeAction(t(this),e)})}}(jQuery);