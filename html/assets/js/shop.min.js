function addToCart(t,c){void 0===c&&(c=1),postJson("cart/add?goods="+t+"&amount="+c,function(t){parseAjax(t)})}function buyGoods(t,c){void 0===c&&(c=1)}function collectGoods(t,c){postJson("collect/toggle?id="+t,function(t){200==t.code&&c&&$(c).toggleClass("active",t.data)})}function mapItem(t){$(".cart-item").each(function(){if(0==t($(this)))return!1})}function mapCheckedItem(c){mapItem(function(t){if(t.find(".check-box").hasClass("active"))return 0!=c(t)&&void 0})}function refreshCart(){}function bindCart(e){$(".number-box input").change(function(){var t=$(this),c=t.val(),a=t.closest(".cart-item").attr("data-id");$.getJSON(e+"cart/update",{id:a,amount:c},function(t){parseAjax(t)})}),$(".cart-item .fa-trash").click(function(){var c=$(this).closest(".cart-item"),t=c.attr("data-id");$.getJSON(e+"cart/delete",{id:t},function(t){parseAjax(t),200==t.code&&c.remove()})}),$(".cart-item .check-box").change(function(){refreshCart()}),$(".cart-footer .check-box").change(function(){$(".cart-item .check-box").toggleClass("active",$(this).hasClass("active")),refreshCart()})}$(function(){$(".check-box").click(function(){$(this).toggleClass("active").trigger("change")}),$(".toggle-box").click(function(){$(this).toggleClass("active").trigger("change")}),$(".number-box .fa-minus").click(function(){var t=$(this).closest(".number-box").find("input"),c=t.attr("min")||0,a=Number(t.val())||0;c<a&&(a-=1),t.val(a).trigger("change")}),$(".number-box .fa-plus").click(function(){var t=$(this).closest(".number-box").find("input"),c=t.attr("max")||999,a=Number(t.val())||0;a<c&&(a+=1),t.val(a).trigger("change")})});